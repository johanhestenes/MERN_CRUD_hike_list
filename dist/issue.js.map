{"version":3,"sources":["../server/issue.js"],"names":["issueFieldType","name","distance","time","created","elevation","cleanupIssue","issue","cleanedUpIssue","Object","keys","forEach","field","convertIssue","Date","validateIssue","errors","push","length","join"],"mappings":";;;;;AAAA;;;;;;;;;AASA,MAAMA,iBAAiB;AACrBC,QAAM,UADe;AAErBC,YAAU,UAFW;AAGrBC,QAAM,UAHe;AAIrBC,WAAS,UAJY;AAKrBC,aAAW;AALU,CAAvB;;AAQA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAMC,iBAAiB,EAAvB;AACAC,SAAOC,IAAP,CAAYH,KAAZ,EAAmBI,OAAnB,CAA2BC,SAAS;AAClC,QAAIZ,eAAeY,KAAf,CAAJ,EAA2BJ,eAAeI,KAAf,IAAwBL,MAAMK,KAAN,CAAxB;AAC5B,GAFD;AAGA,SAAOJ,cAAP;AACD;;AAED,SAASK,YAAT,CAAsBN,KAAtB,EAA6B;AAC3B,MAAIA,MAAMH,OAAV,EAAmBG,MAAMH,OAAN,GAAgB,IAAIU,IAAJ,CAASP,MAAMH,OAAf,CAAhB;AACnB;AACA,SAAOE,aAAaC,KAAb,CAAP;AACD;;AAED,SAASQ,aAAT,CAAuBR,KAAvB,EAA8B;AAC5B,QAAMS,SAAS,EAAf;AACAP,SAAOC,IAAP,CAAYV,cAAZ,EAA4BW,OAA5B,CAAoCC,SAAS;AAC3C,QAAIZ,eAAeY,KAAf,MAA0B,UAA1B,IAAwC,CAACL,MAAMK,KAAN,CAA7C,EAA2D;AACzDI,aAAOC,IAAP,CAAa,4BAA2BL,KAAM,EAA9C;AACD;AACF,GAJD;;AAMA;;;;AAIA,SAAQI,OAAOE,MAAP,GAAgBF,OAAOG,IAAP,CAAY,IAAZ,CAAhB,GAAoC,IAA5C;AACD;;kBAEc;AACbJ,8BADa;AAEbT,4BAFa;AAGbO;AAHa,C","file":"issue.js","sourcesContent":["/*const validIssueStatus = {\n  New: true,\n  Open: true,\n  Assigned: true,\n  Fixed: true,\n  Verified: true,\n  Closed: true,\n};*/\n\nconst issueFieldType = {\n  name: 'required',\n  distance: 'optional',\n  time: 'optional',\n  created: 'required',\n  elevation: 'optional',\n};\n\nfunction cleanupIssue(issue) {\n  const cleanedUpIssue = {};\n  Object.keys(issue).forEach(field => {\n    if (issueFieldType[field]) cleanedUpIssue[field] = issue[field];\n  });\n  return cleanedUpIssue;\n}\n\nfunction convertIssue(issue) {\n  if (issue.created) issue.created = new Date(issue.created);\n  // if (issue.completionDate) issue.completionDate = new Date(issue.completionDate);\n  return cleanupIssue(issue);\n}\n\nfunction validateIssue(issue) {\n  const errors = [];\n  Object.keys(issueFieldType).forEach(field => {\n    if (issueFieldType[field] === 'required' && !issue[field]) {\n      errors.push(`Missing mandatory field: ${field}`);\n    }\n  });\n\n  /*if (!validIssueStatus[issue.status]) {\n    errors.push(`${issue.status} is not a valid status.`);\n  }*/\n\n  return (errors.length ? errors.join('; ') : null);\n}\n\nexport default {\n  validateIssue,\n  cleanupIssue,\n  convertIssue,\n};"]}